/* Base code block styling */
pre { 
    line-height: 1.5; 
    border-radius: 8px;
    padding: 1.2rem;
    margin: 1.5rem 0;
    overflow-x: auto;
    background-color: var(--code-bg);
    border: 1px solid var(--code-border);
    font-family: 'Fira Code', Consolas, Monaco, 'Andale Mono', monospace;
    font-size: 0.9rem;
}

/* Remove border from error elements */
.codehilite .err { border: none; color: var(--code-error); }

/* Theme dependent colors through CSS variables */
.codehilite { background: var(--code-bg); color: var(--code-text); }
.codehilite .c, .codehilite .ch, .codehilite .cm, .codehilite .cpf, .codehilite .c1, .codehilite .cs { color: var(--code-comment); font-style: italic } /* Comments */
.codehilite .k, .codehilite .kc, .codehilite .kd, .codehilite .kn, .codehilite .kr { color: var(--code-keyword); font-weight: normal } /* Keywords */
.codehilite .o, .codehilite .ow { color: var(--code-operator) } /* Operators */
.codehilite .cp { color: var(--code-preprocessor) } /* Preprocessor */
.codehilite .gd { color: var(--code-deleted) } /* Deleted */
.codehilite .gi { color: var(--code-inserted) } /* Inserted */
.codehilite .gs, .codehilite .gu, .codehilite .gh { font-weight: normal } /* Bold elements */
.codehilite .kp, .codehilite .nb, .codehilite .bp { color: var(--code-builtin) } /* Builtins */
.codehilite .kt { color: var(--code-type) } /* Types */
.codehilite .m, .codehilite .mb, .codehilite .mf, .codehilite .mh, .codehilite .mi, .codehilite .mo, .codehilite .il { color: var(--code-number) } /* Numbers */
.codehilite .s, .codehilite .sa, .codehilite .sb, .codehilite .sc, .codehilite .dl, .codehilite .sd, .codehilite .s2, .codehilite .sh, .codehilite .s1 { color: var(--code-string) } /* Strings */
.codehilite .se, .codehilite .si, .codehilite .sr { color: var(--code-string-special) } /* Special strings */
.codehilite .na { color: var(--code-attribute) } /* Attributes */
.codehilite .nc, .codehilite .nn { color: var(--code-class); font-weight: normal } /* Classes */
.codehilite .nf, .codehilite .fm { color: var(--code-function) } /* Functions */
.codehilite .nd { color: var(--code-decorator) } /* Decorators */
.codehilite .nt { color: var(--code-tag); font-weight: normal } /* Tags */
.codehilite .nv, .codehilite .vc, .codehilite .vg, .codehilite .vi, .codehilite .vm { color: var(--code-variable) } /* Variables */

/* Remove italic styling for consistency */
.codehilite .ge { font-style: normal }

/* Line numbers with subtle styling */
td.linenos .normal, span.linenos { 
    color: var(--code-linenum); 
    background-color: transparent; 
    padding: 0 0.7rem; 
    user-select: none;
    opacity: 0.6;
}

td.linenos .special, span.linenos.special { 
    color: var(--code-linenum-special); 
    background-color: var(--code-linenum-special-bg); 
    padding: 0 0.7rem;
}